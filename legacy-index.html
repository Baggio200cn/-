<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>Legacy News List</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
body { font-family:system-ui; margin:0; background:#fff; }
header { background:#0d3a66; color:#fff; padding:14px 22px; display:flex; justify-content:space-between; align-items:center; }
main { max-width:960px; margin:28px auto 60px; padding:0 20px; }
.news-item { border-bottom:1px solid #e3e6ea; padding:12px 0; }
.news-item h3 { margin:0 0 4px; font-size:16px; }
a { color:#0f62d6; text-decoration:none; }
a:hover { text-decoration:underline; }
#backNew { color:#fff; }
</style>
</head>
<body>
<header>
  <h1 style="margin:0;font-size:18px;">Legacy 平铺列表 (只读)</h1>
  <a id="backNew" href="./index.html">返回新聚类界面</a>
</header>
<main id="legacyList">
  <p>此页面保留旧版结构用于回退。新功能请使用 <a href="./index.html">聚类主页</a>。</p>
</main>
<script type="module">
import { loadRawItems } from './modules/data-loader.js';
import { escapeHTML } from './modules/news-utils.js';

const container = document.getElementById('legacyList');
loadRawItems().then(items=>{
  items.forEach(it=>{
    const div = document.createElement('div');
    div.className='news-item';
    div.innerHTML = `
      <h3>${escapeHTML(it.title)}</h3>
      <div style="font-size:13px;color:#555">${escapeHTML(it.summary||it.description||'')}</div>
      <div style="margin-top:6px;font-size:12px;">
        <a href="${it.url}" target="_blank" rel="noopener">源链接</a>
      </div>`;
    container.appendChild(div);
  });
});
</script>
</body>
</html>
