
# æœºå™¨è§†è§‰æ¯æ—¥èµ„è®¯

ä¸€ä¸ªåŸºäºå¡ç‰‡å¼è®¾è®¡çš„æœºå™¨è§†è§‰æ–°é—»ç½‘ç«™ï¼Œæä¾›æ¯æ—¥èµ„è®¯æµè§ˆã€æ ‡ç­¾ç­›é€‰ã€PNGå¯¼å‡ºå’Œæ‰‹å¸é£å­¦ä¹ å¡ç‰‡ç”ŸæˆåŠŸèƒ½ã€‚

è®¿é—®ç½‘ç«™: **https://baggio200cn.github.io/-/**

## ğŸš€ Features Overview

| åŠŸèƒ½ | æè¿° |
|------|------|
| èšç±» (Clustering) | åŸºäº Jaccard Token ç›¸ä¼¼åº¦çš„å‰ç«¯èšåˆï¼Œé˜ˆå€¼å¯è°ƒï¼Œæ”¯æŒæ ‡é¢˜äºŒæ¬¡åˆå¹¶ |
| LLM å¢å¼º | å¯é€‰æ‰¹å¤„ç†å¢å¼ºä¸»é¢˜ / æ‘˜è¦ / å…³é”®ç‚¹ï¼Œå¤±è´¥ä¸å½±å“å…¶ä»–é›†ç¾¤ |
| å­¦ä¹ å¡ç‰‡ | æŒ‰é›†ç¾¤æ±‡æ€»å¤šæ¥æºç”Ÿæˆå­¦ä¹ å¡ç‰‡ï¼Œå¯å¤åˆ¶ |
| ç¼“å­˜ | localStorage ç‰ˆæœ¬åŒ–ç¼“å­˜ï¼Œå‚æ•°æˆ–æ•°æ®æ”¹å˜è‡ªåŠ¨å¤±æ•ˆ |
| i18n | åŸºç¡€è¯­è¨€åˆ‡æ¢ (zh / en) å ä½ |
| Legacy æ¨¡å¼ | ä¿ç•™æ—§å¹³é“ºåˆ—è¡¨ä»¥ä¾¿å›é€€ |

## âš™ï¸ Quick Start

```bash
git clone https://github.com/Baggio200cn/mv-daily.git
cd mv-daily
npm install
npm run check          # lint + æ•°æ®æ ¡éªŒ
# å¯åŠ¨æœ¬åœ°é™æ€æœåŠ¡ä»»é€‰ï¼šnpx serve . æˆ– VS Code Live Server
```

æ‰“å¼€ `index.html` çœ‹åˆ°èšç±»ç•Œé¢ï¼›`legacy-index.html` ä¸ºæ—§ç‰ˆæœ¬ã€‚

## ğŸ” Clustering Parameters

| é˜ˆå€¼ | é›†ç¾¤æ•° (ç¤ºä¾‹) | è¯´æ˜ |
|------|---------------|------|
| 0.88 (é»˜è®¤) | 13 | 18 åŸå§‹æ¡ç›® â†’ 13 é›†ç¾¤ (~28% å‡å°‘) |
| 0.75 | 5 | æ›´æ¿€è¿›çš„åˆå¹¶ï¼Œæ¼”ç¤ºä¸Šé™ |

æ ‡é¢˜äºŒæ¬¡åˆå¹¶ (Title Merge) é’ˆå¯¹ä»£è¡¨æ ‡é¢˜ç›¸ä¼¼åº¦ > 0.92 çš„é›†ç¾¤è¿›è¡Œåˆå¹¶ï¼Œå‡å°‘æ®‹ç•™å¾®å·®å¼‚ã€‚

## ğŸ¤– LLM Enhancement

åœ¨å·¥å…·æ ç‚¹å‡» â€œLLM è®¾ç½®â€ï¼š
- API Base
- API Key (ä»…å­˜ localStorageï¼Œä¸ä¸Šä¼ )
- Model
- Batch Size (é»˜è®¤ 4)

ç‚¹å‡» â€œæ‰¹é‡å¢å¼ºâ€ åæ˜¾ç¤ºè¿›åº¦ï¼š`å·²å¤„ç† X/Y`ã€‚å¤±è´¥çš„é›†ç¾¤ä¿ç•™å¯å‘å¼æ‘˜è¦å¹¶æ ‡è®°é”™è¯¯ã€‚

## ğŸ—ƒï¸ Caching

Key: `CLUSTER_CACHE_V1`

```json
{
  "hash": "<news_hash>",
  "params": { "threshold": 0.88, "titleMerge": true },
  "timestamp": 1736640000000,
  "clusters": [ ... ]
}
```

å‡çº§ç®—æ³•æˆ–ç»“æ„æ—¶ï¼šå°†å¸¸é‡æ”¹ä¸º `CLUSTER_CACHE_V2` ä»¥å¼ºåˆ¶å¤±æ•ˆã€‚

## ğŸ›  Diagnostics

æµè§ˆå™¨æ§åˆ¶å°ï¼š
```js
window.__CLUSTERS__           // å½“å‰é›†ç¾¤æ•°ç»„
window.__CLUSTER_DIAG__()     // { rawCount, clusterCount, enhanced, threshold, titleMerge }
```

## ğŸ§ª Manual Test Checklist

(ä¸ PR æè¿°ä¸€è‡´ï¼Œå¯å‹¾é€‰)

## ğŸ§­ Roadmap

- è¯­ä¹‰å‘é‡ç›¸ä¼¼åº¦ (embeddings)
- Web Worker å¼‚æ­¥èšç±»
- æ›´ç»†ç²’åº¦å¢é‡æ›´æ–°
- è‡ªåŠ¨åŒ–æµ‹è¯• (Jest + Playwright)
- å¤šè¯­è¨€å†…å®¹ä¸ç¿»è¯‘æ¨¡å‹
