<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>学习卡片生成 - 机器视觉每日资讯</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="styles/base.css?v=v4">
<style>
.study-card {
  width: 420px;
  margin: 12px 0;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px 18px;
  font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  box-shadow: 0 2px 4px rgba(0,0,0,.06);
}
.study-card .card-title { font-size: 20px; margin: 8px 0 12px; line-height:1.3; }
.study-card .card-summary { font-size:14px; line-height:1.5; margin:0 0 12px; white-space:pre-wrap;}
.study-card .card-tags span { display:inline-block; background:#0f4c81; color:#fff; padding:3px 8px; border-radius:16px; font-size:12px; margin:0 6px 6px 0;}
.study-card .card-extra { background:#f8fafc; padding:8px 10px; border-left:4px solid #0f4c81; font-size:13px; line-height:1.45; margin-bottom:10px; white-space:pre-wrap;}
.study-card .card-footer { font-size:12px; color:#64748b; text-align:right; }
.card-head .card-source { font-weight:600; margin-right:8px; }
.card-head .card-date { color:#64748b; font-size:12px; }

/* Cluster card specific styles */
.cluster-card .card-key-points {
  background: #f0f9ff;
  padding: 10px 12px;
  border-radius: 6px;
  margin: 12px 0;
  border-left: 3px solid #0284c7;
}
.cluster-card .card-key-points ul {
  margin: 8px 0 0 0;
  padding-left: 16px;
}
.cluster-card .card-key-points li {
  margin: 4px 0;
  font-size: 13px;
  line-height: 1.4;
}
.cluster-card .card-sources {
  margin: 12px 0;
  padding: 10px;
  background: #fafafa;
  border-radius: 6px;
}
.cluster-card .card-sources details summary {
  cursor: pointer;
  font-size: 13px;
  color: #374151;
  margin-bottom: 8px;
}
.cluster-card .card-sources .sources-list {
  margin-top: 8px;
}
.cluster-card .card-sources .source-entry {
  margin: 8px 0;
  padding: 8px;
  background: white;
  border-radius: 4px;
  border: 1px solid #e5e7eb;
  font-size: 13px;
}

#generatedCards { margin-top:20px; }
.inline-nav { margin:12px 0 20px; font-size:14px; }
.inline-nav a { margin-right:16px; color:#0f4c81; text-decoration:none; }
.inline-nav a:hover { text-decoration:underline; }
</style>
</head>
<body>
<header class="site-header">
  <div class="logo-wrap">
    <a href="index.html">返回</a>
    <h1 id="pageTitle">学习卡片生成器</h1>
  </div>
  <div class="header-actions">
    <button id="langToggleBtn" class="ghost-btn">中/EN</button>
    <a href="index.html" class="secondary small">首页</a>
  </div>
</header>

<section>
  <div class="form-block">
    <label id="labelSelect" for="newsSelect">选择新闻项</label>
    <select id="newsSelect">
      <option value="">加载数据失败</option>
    </select>
  </div>
  <div class="form-block">
    <label id="labelNote" for="extraNote">补充说明</label>
    <textarea id="extraNote" rows="4" placeholder=""></textarea>
  </div>
  <button id="genCardBtn" class="primary">生成学习卡片</button>
  <div id="cardStatus" style="margin-top:12px;font-size:13px;color:#64748b;"></div>
</section>

<section id="generatedCards"></section>

<script src="news-utils.js?v=v4"></script>
<script>
  // 绑定语言切换
  document.addEventListener('DOMContentLoaded', () => {
    const langBtn = document.getElementById('langToggleBtn');
    if (langBtn) langBtn.addEventListener('click', toggleLang);
  });
</script>
<script src="card-generator.js?v=v6.1"></script>
</body>
</html>
